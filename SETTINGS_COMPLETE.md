# โ ูุธุงู ุฅุนุฏุงุฏุงุช ุงูุทุจุงุนุฉ ููุชูู - Settings System Complete

## ๐ ุชู ุงูุฅูุฌุงุฒ!

ุชู ุฅูุดุงุก ูุธุงู ูุงูู ูุฅุนุฏุงุฏุงุช ุงูุทุจุงุนุฉ ุงููุนููุฉ ุนูู ุงูุดููุงุช.

---

## ๐ ูุง ุชู ุฅูุฌุงุฒู

### 1. Backend API โ

#### Models:
- โ `PrintSettings.model.ts` - ููุชุนุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### Services:
- โ `PrintSettingsService` - ููุทู ุงูุฃุนูุงู

#### Controllers:
- โ `PrintSettingsController` - ุงูุชุญูู ูู ุงูู API

#### Routes:
- โ `GET /api/print-settings/:accountType` - ุฌูุจ ุงูุฅุนุฏุงุฏุงุช
- โ `POST /api/print-settings` - ุญูุธ ุงูุฅุนุฏุงุฏุงุช (admin only)

### 2. Database โ

ุฌุฏูู `print_settings` ูุญูุธ:
- ููุงุณ ุงูุดูู (ุนุฑุถ ร ุงุฑุชูุงุน)
- ููุถุน ูู ุนูุตุฑ (X, Y)
- ุญุฌู ุงูุฎุท ููู ุนูุตุฑ
- ูุญุงุฐุงุฉ ูู ุนูุตุฑ
- ุฅุนุฏุงุฏุงุช ูููุตูุฉ ููุฃูุฑุงุฏ (1) ูุงูุดุฑูุงุช (2)

### 3. Frontend โ

#### ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช (`/settings`):
- โ ุชุจููุจุงุช ููุฃูุฑุงุฏ ูุงูุดุฑูุงุช
- โ ููุงุฐุฌ ูุถุจุท ูู ุฅุนุฏุงุฏ
- โ ูุนุงููุฉ ูุจุงุดุฑุฉ ููุดูู
- โ ุฌูุจ ุงูุฅุนุฏุงุฏุงุช ูู Backend
- โ ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุฅูู Backend
- โ Loading states
- โ ุฑุณุงุฆู ุงููุฌุงุญ ูุงูุฎุทุฃ

---

## ๐ฏ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุฎุทูุฉ 1: ุงููุตูู ููุฅุนุฏุงุฏุงุช

```
1. ุณุฌู ุงูุฏุฎูู ููุณุคูู
   Username: admin
  Password: [REDACTED]

2. ุงุฐูุจ ุฅูู "โ๏ธ ุฅุนุฏุงุฏุงุช ุงูุทุจุงุนุฉ" ูู ุงููุงุฆูุฉ
   ุฃู: http://localhost:3000/settings
```

### ุงูุฎุทูุฉ 2: ุถุจุท ุงูุฅุนุฏุงุฏุงุช

```
1. ุงุฎุชุฑ ุงูุชุจููุจ:
   - "ุดููุงุช ุงูุฃูุฑุงุฏ (25 ูุฑูุฉ)" โ accountType = 1
   - "ุดููุงุช ุงูุดุฑูุงุช (50 ูุฑูุฉ)" โ accountType = 2

2. ุงุถุจุท ุงูููุงุณุงุช:
   - ุงูุนุฑุถ (ุงูุทูู): ูุซูุงู 235 ููู ููุฃูุฑุงุฏ
   - ุงูุงุฑุชูุงุน: ูุซูุงู 86 ููู

3. ุงุถุจุท ููุถุน ูู ุนูุตุฑ:
   - ุงุณู ุงููุฑุน: X, Y, ุญุฌู ุงูุฎุท, ุงููุญุงุฐุงุฉ
   - ุงูุฑูู ุงูุชุณูุณูู: X, Y, ุญุฌู ุงูุฎุท, ุงููุญุงุฐุงุฉ
   - ุงุณู ุตุงุญุจ ุงูุญุณุงุจ: X, Y, ุญุฌู ุงูุฎุท, ุงููุญุงุฐุงุฉ
   - ุฎุท MICR: X, Y, ุญุฌู ุงูุฎุท, ุงููุญุงุฐุงุฉ

4. ุฑุงูุจ ุงููุนุงููุฉ:
   - ุชุชุญุฏุซ ูุจุงุดุฑุฉ ูุน ูู ุชุบููุฑ
   - ุงููููุงุณ 2:1 ูููุถูุญ
```

### ุงูุฎุทูุฉ 3: ุงูุญูุธ

```
1. ุงุถุบุท "ุญูุธ ุงูุฅุนุฏุงุฏุงุช"
2. ุณุชุธูุฑ ุฑุณุงูุฉ "ุชู ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุจูุฌุงุญ!"
3. ุงูุฅุนุฏุงุฏุงุช ูุญููุธุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
4. ุณุชูุทุจู ุนูู ุฌููุน ุนูููุงุช ุงูุทุจุงุนุฉ ุงููุณุชูุจููุฉ
```

---

## ๐ง API Endpoints

### 1. ุฌูุจ ุงูุฅุนุฏุงุฏุงุช
```http
GET /api/print-settings/:accountType
Authorization: Bearer TOKEN

Parameters:
  accountType: 1 (Individual) or 2 (Corporate)

Response:
{
  "id": 1,
  "accountType": 1,
  "checkWidth": 235,
  "checkHeight": 86,
  "branchName": {
    "x": 117.5,
    "y": 10,
    "fontSize": 14,
    "align": "center"
  },
  "serialNumber": { ... },
  "accountHolderName": { ... },
  "micrLine": { ... }
}
```

### 2. ุญูุธ ุงูุฅุนุฏุงุฏุงุช
```http
POST /api/print-settings
Authorization: Bearer TOKEN (Admin only)
Content-Type: application/json

Body:
{
  "accountType": 1,
  "checkWidth": 235,
  "checkHeight": 86,
  "branchName": {
    "x": 117.5,
    "y": 10,
    "fontSize": 14,
    "align": "center"
  },
  ...
}

Response:
{
  "success": true,
  "message": "Settings saved successfully",
  "settings": { ... }
}
```

---

## ๐ ูุธุงู ุงูุฅุญุฏุงุซูุงุช

```
ุงูุดูู:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ (0, 0)
โ (0,0)                                โ
โ                                      โ
โ    X โโโโโโ (ูููู)                  โ
โ    โ                                 โ
โ    โ Y (ุฃุณูู)                       โ
โ    โ                                 โ
โ                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      (checkWidth, checkHeight)

ูุซุงู - ุดูู ูุฑุฏู (235 ร 86 ููู):
- ุงูููุชุตู ุงูุฃููู: X = 117.5 ููู
- ุฃุณูู ุงูุดูู: Y = 80-86 ููู
```

---

## ๐จ ุงูููู ุงูุงูุชุฑุงุถูุฉ

### ููุฃูุฑุงุฏ (235 ร 86 ููู):

| ุงูุนูุตุฑ | X | Y | Font Size | Align |
|--------|---|---|-----------|-------|
| Branch Name | 117.5 | 10 | 14 | center |
| Serial Number | 200 | 18 | 12 | right |
| Account Holder | 20 | 70 | 10 | left |
| MICR Line | 117.5 | 80 | 12 | center |

### ููุดุฑูุงุช (240 ร 86 ููู):

| ุงูุนูุตุฑ | X | Y | Font Size | Align |
|--------|---|---|-----------|-------|
| Branch Name | 120 | 10 | 14 | center |
| Serial Number | 205 | 18 | 12 | right |
| Account Holder | 20 | 70 | 10 | left |
| MICR Line | 120 | 80 | 12 | center |

---

## ๐ ุงูุตูุงุญูุงุช

- **ุฌูุจ ุงูุฅุนุฏุงุฏุงุช**: ุฌููุน ุงููุณุชุฎุฏููู ุงููุณุฌููู
- **ุญูุธ ุงูุฅุนุฏุงุฏุงุช**: ุงููุณุคูููู ููุท (`isAdmin: true`)

---

## ๐ ุงููููุงุช ุงูุฌุฏูุฏุฉ

### Backend:
```
server/src/
โโโ models/PrintSettings.model.ts
โโโ services/printSettings.service.ts
โโโ controllers/printSettings.controller.ts
โโโ routes/printSettings.routes.ts

server/prisma/
โโโ schema.prisma (updated)
โโโ migrations/20251115192028_add_print_settings/
```

### Frontend:
```
client/src/
โโโ app/settings/page.tsx
โโโ lib/printSettings.api.ts
```

---

## โ ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ ุฌูุจ ุงูุฅุนุฏุงุฏุงุช:
```bash
# Get individual settings
curl -H "Authorization: Bearer TOKEN" \
  http://10.250.100.40:5000/api/print-settings/1

# Get corporate settings
curl -H "Authorization: Bearer TOKEN" \
  http://10.250.100.40:5000/api/print-settings/2
```

### 2. ุงุฎุชุจุงุฑ ุญูุธ ุงูุฅุนุฏุงุฏุงุช:
```bash
curl -X POST \
  -H "Authorization: Bearer ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "accountType": 1,
    "checkWidth": 235,
    "checkHeight": 86,
    "branchName": {"x": 117.5, "y": 10, "fontSize": 14, "align": "center"},
    "serialNumber": {"x": 200, "y": 18, "fontSize": 12, "align": "right"},
    "accountHolderName": {"x": 20, "y": 70, "fontSize": 10, "align": "left"},
    "micrLine": {"x": 117.5, "y": 80, "fontSize": 12, "align": "center"}
  }' \
  http://10.250.100.40:5000/api/print-settings
```

### 3. ุงุฎุชุจุงุฑ ูู Frontend:
```
1. http://localhost:3000/settings
2. ุนุฏูู ุฃู ุฅุนุฏุงุฏ
3. ุงุญูุธ
4. ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ
5. ุชุญูู ูู ุฃู ุงูุฅุนุฏุงุฏุงุช ูุญููุธุฉ โ
```

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ุงููุฑุญูุฉ ุงูุชุงููุฉ: ุชุทุจูู ุงูุฅุนุฏุงุฏุงุช ุนูู ุงูุทุจุงุนุฉ

1. **ุชุญุฏูุซ PDF Generator:**
   - ุงุณุชุฎุฏุงู ุงูุฅุนุฏุงุฏุงุช ุงููุญููุธุฉ
   - ูุถุน ุงูุนูุงุตุฑ ูู ุงูููุงุถุน ุงูุตุญูุญุฉ
   - ุงุณุชุฎุฏุงู ุฃุญุฌุงู ุงูุฎุทูุท ุงููุญุฏุฏุฉ

2. **ุฃู: ุฅูุดุงุก ุตูุญุฉ HTML ููุทุจุงุนุฉ ุงููุจุงุดุฑุฉ:**
   - ุตูุญุฉ HTML ุจุณูุทุฉ
   - ุชูุธูุฑ ุงูุจูุงูุงุช ูู ุงูููุงุถุน ุงููุญุฏุฏุฉ
   - ุชูุทุจุน ูุจุงุดุฑุฉ ุนูู ุงูุดููุงุช ุงููุงุฑุบุฉ

---

## ๐ก ูุตุงุฆุญ ููุงุณุชุฎุฏุงู

### 1. ุงุฎุชุจุฑ ุนูู ูุฑู ุนุงุฏู ุฃููุงู:
- ูุง ุชูุฏุฑ ุงูุดููุงุช ุงููุนููุฉ
- ุงุทุจุน ุนูู ูุฑูุฉ ุจูุถุงุก
- ูุงุฑู ูุน ุดูู ูุงุฑุบ

### 2. ุงุถุจุท ุชุฏุฑูุฌูุงู:
- ุงุจุฏุฃ ุจุนูุตุฑ ูุงุญุฏ (ูุซูุงู: ุงุณู ุงููุฑุน)
- ุงุถุจุทู ุจุฏูุฉ
- ุงูุชูู ููุนูุตุฑ ุงูุชุงูู

### 3. ุงุญูุธ ูุณุฎุฉ ุงุญุชูุงุทูุฉ:
- ุณุฌู ุงูุฅุนุฏุงุฏุงุช ุงูููุงุฆูุฉ
- ูู ุญุงูุฉ ุงูุญุงุฌุฉ ูุงุณุชุนุงุฏุชูุง

---

## โ ุงูุญุงูุฉ ุงูุญุงููุฉ

- โ ุตูุญุฉ ุฅุนุฏุงุฏุงุช ูุงููุฉ ููุชุฌุงูุจุฉ
- โ Backend API ุฌุงูุฒ
- โ ุญูุธ ูุงุณุชุฑุฌุงุน ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ูุนุงููุฉ ูุจุงุดุฑุฉ
- โ ูุงุฌูุฉ ุณููุฉ ุงูุงุณุชุฎุฏุงู
- โณ ุชุทุจูู ุงูุฅุนุฏุงุฏุงุช ุนูู ุงูุทุจุงุนุฉ (ุงูุฎุทูุฉ ุงูุชุงููุฉ)

---

## ๐ ุงููุชูุฌุฉ

ุงูุขู ูุฏูู:
1. โ ูุธุงู ูุงูู ูุถุจุท ููุงุถุน ุงูุจูุงูุงุช ุนูู ุงูุดูู
2. โ ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุจุดูู ุฏุงุฆู
3. โ ูุนุงููุฉ ูุจุงุดุฑุฉ ููุชุบููุฑุงุช
4. โ ุตูุงุญูุงุช ูุญููุฉ (admin only ููุญูุธ)

**ุงููุธุงู ุฌุงูุฒ! ุงูุชุญ `/settings` ูุฌุฑุจ ุงูุขู! ๐**

