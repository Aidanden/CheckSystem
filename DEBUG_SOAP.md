# ๐ ุชุดุฎูุต ูุดุงูู SOAP

ุฅุฐุง ูู ุชุนูู ุตูุญุฉ ุงูุงุฎุชุจุงุฑุ ุงุชุจุน ูุฐู ุงูุฎุทูุงุช ูุชุญุฏูุฏ ุงููุดููุฉ ุจุฏูุฉ.

## 1. ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช

ุชุฃูุฏ ูู ุฃู ููู `.env` ูู ูุฌูุฏ `server` ูุญุชูู ุนูู ุงูุฅุนุฏุงุฏุงุช ุงูุตุญูุญุฉ (ุฃู ูุง ูุญุชูู ุนูู `BANK_API_URL` ูุงุณุชุฎุฏุงู ุงูุงูุชุฑุงุถู):

```env
# ูุฌุจ ุฃู ูููู ููุฐุง ูุงุณุชุฎุฏุงู ุงูุฎุงุฏู ุงููุญูู
BANK_API_URL=http://localhost:8080/FCUBSAccService
```

## 2. ูุฑุงูุจุฉ ุงูุณุฌูุงุช (Logs)

ููุฏ ูููุง ุจุฅุถุงูุฉ ุชุณุฌูู ููุตู. ุนูุฏ ุงูุถุบุท ุนูู "Query SOAP":

1. **ูู terminal ุงูุฎุงุฏู (server)**:
   ุงุจุญุซ ุนู:
   - `๐ค Sending SOAP Request`: ูู ุงูุทูุจ ูุจุฏู ุตุญูุญุงูุ
   - `๐ฅ Received SOAP Response`: ูู ูุตูุช ุงุณุชุฌุงุจุฉุ
   - `๐ Parsed XML`: ููู ุชู ุชุญููู ุงูุงุณุชุฌุงุจุฉุ

2. **ูู terminal ุฎุงุฏู SOAP (soap:test)**:
   - ูู ูุตู ุงูุทูุจุ (`๐จ ุชู ุงุณุชูุงู ุทูุจ SOAP`)
   - ูู ุชู ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ุจุดูู ุตุญูุญุ

## 3. ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ

### โ "Invalid SOAP response: missing body"
**ุงูุณุจุจ**: ูุดู ูู ุชุญููู XML.
**ุงูุญู**: ุฑุงุฌุน `๐ Parsed XML` ูู ุงูุณุฌูุงุช ูุชุฑู ุงููููู ุงููุนูู.

### โ "ECONNREFUSED"
**ุงูุณุจุจ**: ุงูุฎุงุฏู ุงูุฎููู ูุง ูุณุชุทูุน ุงูุงุชุตุงู ุจุฎุงุฏู SOAP.
**ุงูุญู**: ุชุฃูุฏ ูู ุงููููุฐ (8080) ูุชุดุบูู `npm run soap:test`.

### โ "SOAP Fault"
**ุงูุณุจุจ**: ุฎุงุฏู SOAP ุฃุฑุฌุน ุฎุทุฃ.
**ุงูุญู**: ุงูุฑุฃ ุฑุณุงูุฉ ุงูุฎุทุฃ ุงููุฑุฌุนุฉ.

## 4. ุชุฌุฑุจุฉ ูุฏููุฉ

ููููู ุงุณุชุฎุฏุงู ูุฐุง ุงูุฃูุฑ ูู terminal ูููุตู ูุงุฎุชุจุงุฑ ุฎุงุฏู SOAP ูุจุงุดุฑุฉ:

```bash
curl -X POST http://localhost:8080/FCUBSAccService \
  -H "Content-Type: text/xml" \
  -d "<soapenv:Envelope ...>" # ุงูุณุฎ ูุซุงู ูู SOAP_SERVER_GUIDE.md
```
