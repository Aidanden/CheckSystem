# ๐ ุญุงูุฉ ูุธุงู ุงูุทุจุงุนุฉ - Printing System Status

## โ ุงูุชุญุฏูุซุงุช ุงูููุทุจููุฉ

### 1. ุฅุตูุงุญ ูุดููุฉ ูุนุงููุงุช Prisma ุงููุชุฏุงุฎูุฉ
- โ ููู `queryAccount` ุฎุงุฑุฌ ูุนุงููุฉ Prisma
- โ ุงุณุชุฎุฏุงู `tx` ูุฌููุน ุงูุนูููุงุช ุฏุงุฎู ุงููุนุงููุฉ
- โ ุชุฌูุจ ุงููุนุงููุงุช ุงููุชุฏุงุฎูุฉ

### 2. ุฅุตูุงุญ ูุดููุฉ ุงููุฑุน (Branch)
- โ ุงููุณุชุฎุฏู ุจุฏูู ูุฑุน: ูุชู ุฌูุจ ุฃูู ูุฑุน ูุชุงุญ ุชููุงุฆูุงู
- โ ุงูุชุญูู ูู ูุฌูุฏ ูุฑูุน ูู ุงููุธุงู

### 3. ุฅุถุงูุฉ Logging ูุญุณูู
- โ ุชุณุฌูู ุชูุงุตูู ุงูุฃุฎุทุงุก
- โ ุนุฑุถ stack trace ููุฃุฎุทุงุก

---

## ๐ง ุงูุชุบููุฑุงุช ุงูุฑุฆูุณูุฉ

### `printing.service.ts`
```typescript
// ููู queryAccount ุฎุงุฑุฌ ุงููุนุงููุฉ
const account = await AccountService.queryAccount(accountNumber);

// ุงุณุชุฎุฏุงู tx ูุฌููุน ุงูุนูููุงุช
const result = await prisma.$transaction(async (tx) => {
  const branch = await tx.branch.findUnique(...);
  const inventory = await tx.inventory.findFirst(...);
  await tx.inventory.updateMany(...);
  await tx.inventoryTransaction.create(...);
  await tx.account.update(...);
  await tx.printOperation.create(...);
});
```

### `printing.controller.ts`
```typescript
// ุฌูุจ ุฃูู ูุฑุน ูุชุงุญ ุฅุฐุง ูู ููู ุงููุณุชุฎุฏู ูุฑุชุจุทุงู ุจูุฑุน
let branchId = req.user.branchId;
if (!branchId) {
  const branches = await BranchModel.findAll();
  if (branches.length === 0) {
    return res.status(400).json({ error: 'No branches available' });
  }
  branchId = branches[0].id;
}
```

---

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### ุทุฑููุฉ 1: ูู Frontend
1. ุณุฌู ุงูุฏุฎูู: `username: admin`, `password: [REDACTED]`
2. ุงุฐูุจ ุฅูู ุตูุญุฉ ุงูุทุจุงุนุฉ
3. ุฃุฏุฎู ุฑูู ุงูุญุณุงุจ: `100012345678901`
4. ุงุถุบุท ุนูู "ุทุจุงุนุฉ"

### ุทุฑููุฉ 2: ุจุงุณุชุฎุฏุงู Postman/API Client

#### ุงูุฎุทูุฉ 1: ุชุณุฌูู ุงูุฏุฎูู
```http
POST http://10.250.100.40:5000/api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "[REDACTED]"
}
```

ุงุญูุธ ุงูู `token` ูู ุงูุฑุฏ.

#### ุงูุฎุทูุฉ 2: ุทุจุงุนุฉ ุดูู
```http
POST http://10.250.100.40:5000/api/printing/print
Content-Type: application/json
Authorization: Bearer YOUR_TOKEN_HERE

{
  "account_number": "100012345678901"
}
```

### ุทุฑููุฉ 3: ุจุงุณุชุฎุฏุงู curl (ูู CMD ุฃู Git Bash)

```bash
# Login
curl -X POST http://10.250.100.40:5000/api/auth/login \
  -H "Content-Type: application/json" \
  -d "{\"username\":\"admin\",\"password\":\"[REDACTED]\"}"

# Print (ุงุณุชุจุฏู YOUR_TOKEN ุจุงูู token)
curl -X POST http://10.250.100.40:5000/api/printing/print \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d "{\"account_number\":\"100012345678901\"}"
```

---

## ๐ ุฃุฑูุงู ุงูุญุณุงุจุงุช ุงูุชุฌุฑูุจูุฉ

### ุญุณุงุจุงุช ูุฑุฏูุฉ (Individual)
1. **100012345678901** - ุฃุญูุฏ ูุญูุฏ ุนูู ุงูุณูุฏ
2. **100023456789012** - ูุงุทูุฉ ุญุณู ูุญููุฏ

### ุญุณุงุจุงุช ุดุฑูุงุช (Corporate)
3. **200034567890123** - ุดุฑูุฉ ุงูุชูููุฉ ุงููุชูุฏูุฉ ุงููุญุฏูุฏุฉ

---

## โ ุงููุฎุฑุฌุงุช ุงููุชููุนุฉ

ุนูุฏ ูุฌุงุญ ุงูุทุจุงุนุฉุ ุณุชุธูุฑ ูู console ุงูุณูุฑูุฑ:

```
============================================================
๐ ุฅุฑุณุงู ุฏูุชุฑ ุงูุดููุงุช ุฅูู ุทุงุจุนุฉ MICR
============================================================

๐ ูุนูููุงุช ุงูุนูููุฉ:
   ุงูุญุณุงุจ: 100012345678901
   ุงูุนููู: ุฃุญูุฏ ูุญูุฏ ุนูู ุงูุณูุฏ
   ุงููุฑุน: ุงููุฑุน ุงูุฑุฆูุณู
   ุงูููุน: ูุฑุฏู
   ุงูุชุณูุณู: ูู 1 ุฅูู 25
   ุนุฏุฏ ุงูุฃูุฑุงู: 25

๐จ๏ธ ููุงุฐุฌ ูู ุงูุดููุงุช:

   โ ุดูู ุฑูู 1:
      ุงูููุงุณ: 86ร235 ููู
      ูู ุงูุฃุนูู (ุงูููุชุตู): ุงููุฑุน ุงูุฑุฆูุณู
      ุชุญุชู (ุนูู ุงููููู): 000000001
      ูู ุงูุฃุณูู (ุงููุณุงุฑ): ุฃุญูุฏ ูุญูุฏ ุนูู ุงูุณูุฏ
      ุฎุท MICR: 000000001 1100000001 100012345678901 01

   โ ุดูู ุฑูู 2:
      ุงูููุงุณ: 86ร235 ููู
      ...

============================================================
โ ุชู ุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู ุงูุทุงุจุนุฉ ุจูุฌุงุญ
============================================================
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

ุฅุฐุง ูุดูุช ุงูุทุจุงุนุฉ:

1. **ุชุญูู ูู logs ุงูุณูุฑูุฑ** - ุณุชุธูุฑ ุงูุฃุฎุทุงุก ุจุงูุชูุตูู
2. **ุชุญูู ูู ุงููุฎุฒูู** - ูุฌุจ ุฃู ูููู ููุงู ูุฎุฒูู ูุงูู
3. **ุชุญูู ูู ุงููุฑุน** - ูุฌุจ ุฃู ูููู ููุงู ูุฑุน ูุงุญุฏ ุนูู ุงูุฃูู
4. **ุดุบูู seed ูุฑุฉ ุฃุฎุฑู**:
   ```bash
   cd server
   npm run db:seed
   ```

---

## ๐ ููุงุญุธุงุช

- ุงูุณูุฑูุฑ ูุฌุจ ุฃู ูููู ููุดุบููุงู ุนูู `http://10.250.100.40:5000`
- ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฌุจ ุฃู ุชููู ูุชุตูุฉ
- ุงููุฎุฒูู ูุฌุจ ุฃู ูููู ูุชููุฑุงู

---

## ๐ฏ ุงูุฎุทูุฉ ุงูุชุงููุฉ

**ุฌุฑุจ ุงูุทุจุงุนุฉ ุงูุขู ูู ุงูู Frontend ุฃู ุจุงุณุชุฎุฏุงู ุฃู API Client ูุซู Postman!**

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉุ ุฑุงุฌุน logs ุงูุณูุฑูุฑ ููุชูุงุตูู.

