# โจ ููุฒุฉ ุฅุนุงุฏุฉ ุงูุทุจุงุนุฉ ูุงุฎุชูุงุฑ ุงูุชุณูุณู - Reprint Feature

## ๐ฏ ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ

ุชู ุฅุถุงูุฉ **ุตูุญุฉ ุณุฌู ุงูุนูููุงุช** ูุน ุฅููุงููุฉ:
1. โ ุนุฑุถ ุฌููุน ุนูููุงุช ุงูุทุจุงุนุฉ ุงูุณุงุจูุฉ ูู ุฌุฏูู
2. โ ุฅุนุงุฏุฉ ุทุจุงุนุฉ ุฃู ุนูููุฉ ุณุงุจูุฉ
3. โ **ุงุฎุชูุงุฑ ูุทุงู ุงูุชุณูุณู** ุงูุฐู ุชุฑูุฏ ุทุจุงุนุชู

---

## ๐ ุตูุญุฉ ุงูุณุฌู (History Page)

### ุงููุณุงุฑ:
```
http://localhost:5000/history
```

### ุงูููุฒุงุช:

#### 1. ุฌุฏูู ุงูุนูููุงุช ุงูุณุงุจูุฉ
ูุนุฑุถ:
- โ ุฑูู ุงูุนูููุฉ
- โ ุฑูู ุงูุญุณุงุจ
- โ ููุน ุงูุญุณุงุจ (ูุฑุฏู/ุดุฑูุฉ)
- โ ูุทุงู ุงูุชุณูุณู (ูู-ุฅูู)
- โ ุนุฏุฏ ุงูุฃูุฑุงู ุงููุทุจูุนุฉ
- โ ุชุงุฑูุฎ ูููุช ุงูุทุจุงุนุฉ
- โ ุญุงูุฉ ุงูุนูููุฉ
- โ ุฒุฑ "ุฅุนุงุฏุฉ ุทุจุงุนุฉ"

#### 2. ุฅุนุงุฏุฉ ุงูุทุจุงุนุฉ ูุน ุงุฎุชูุงุฑ ุงูุชุณูุณู
ุนูุฏ ุงูุถุบุท ุนูู "ุฅุนุงุฏุฉ ุทุจุงุนุฉ":
- โ ููุชุญ ูุงูุฐุฉ ููุจุซูุฉ (Modal)
- โ ูุนุฑุถ ูุนูููุงุช ุงูุญุณุงุจ
- โ ูุณูุญ ุจุชุนุฏูู **ุงูุชุณูุณู ูู** ู **ุงูุชุณูุณู ุฅูู**
- โ ูุชุญูู ูู ุนุฏู ุชุฌุงูุฒ ุงูุญุฏ ุงูุฃูุตู (25 ููุฃูุฑุงุฏุ 50 ููุดุฑูุงุช)
- โ ูุทุจุน ุงูุดููุงุช ุจุงููุทุงู ุงููุญุฏุฏ
- โ ูููุดุฆ ููู PDF ุฌุฏูุฏ

---

## ๐ง ุงูุชุญุฏูุซุงุช ุนูู Backend

### 1. ุชุญุฏูุซ `PrintCheckbookRequest` Interface

```typescript
export interface PrintCheckbookRequest {
  account_number: string;
  serial_from?: number; // ุงุฎุชูุงุฑู: ูุฅุนุงุฏุฉ ุงูุทุจุงุนุฉ
  serial_to?: number;   // ุงุฎุชูุงุฑู: ูุฅุนุงุฏุฉ ุงูุทุจุงุนุฉ
}
```

### 2. ุชุญุฏูุซ `printCheckbook` Service

```typescript
static async printCheckbook(
  accountNumber: string,
  userId: number,
  branchId: number,
  customSerialFrom?: number,  // ุฌุฏูุฏ
  customSerialTo?: number     // ุฌุฏูุฏ
): Promise<PrintCheckbookResponse>
```

**ุงูููุทู:**
- ุฅุฐุง ุชู ุชูุฑูุฑ `customSerialFrom` ู `customSerialTo`: ูุทุจุน ุงููุทุงู ุงููุญุฏุฏ (ุฅุนุงุฏุฉ ุทุจุงุนุฉ)
- ุฅุฐุง ูู ูุชู ุชูุฑูุฑููุง: ูุทุจุน ุงูุชุณูุณู ุงูุชุงูู ุจุดูู ุทุจูุนู (ุทุจุงุนุฉ ุฌุฏูุฏุฉ)

### 3. ุงูุชุญูู ูู ุงููุทุงู

```typescript
if (customSerialFrom !== undefined && customSerialTo !== undefined) {
  // Custom range specified (for reprint)
  serialFrom = customSerialFrom;
  serialTo = customSerialTo;
  
  // Validate range
  if (serialFrom < 1 || serialTo < serialFrom) {
    throw new Error('ุฑูู ุงูุชุณูุณู ุบูุฑ ุตุญูุญ');
  }
  
  const requestedSheets = serialTo - serialFrom + 1;
  if (requestedSheets > sheetsPerBook) {
    throw new Error(`ูุง ูููู ุทุจุงุนุฉ ุฃูุซุฑ ูู ${sheetsPerBook} ูุฑูุฉ ูู ุงููุฑุฉ ุงููุงุญุฏุฉ`);
  }
}
```

---

## ๐งช ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุณููุงุฑูู 1: ุนุฑุถ ุงูุณุฌู

1. ุณุฌู ุงูุฏุฎูู ุฅูู ุงููุธุงู
2. ุงุฐูุจ ุฅูู ุตูุญุฉ **ุงูุณุฌู** ูู ุงููุงุฆูุฉ
3. ุณุชุฌุฏ ุฌุฏูู ุจุฌููุน ุงูุนูููุงุช ุงูุณุงุจูุฉ

### ุงูุณููุงุฑูู 2: ุฅุนุงุฏุฉ ุทุจุงุนุฉ ุจููุณ ุงููุทุงู

1. ูู ุตูุญุฉ ุงูุณุฌูุ ุงุถุบุท ุนูู **"ุฅุนุงุฏุฉ ุทุจุงุนุฉ"** ูุฃู ุนูููุฉ
2. ุณุชูุชุญ ูุงูุฐุฉ ุจุงููุทุงู ุงูุฃุตูู (ูุซูุงู: ูู 1 ุฅูู 25)
3. ุงุถุบุท **"ุทุจุงุนุฉ"**
4. ุณูููุดุฆ ููู PDF ุฌุฏูุฏ ุจููุณ ุงููุทุงู

### ุงูุณููุงุฑูู 3: ุทุจุงุนุฉ ูุทุงู ูุฎุตุต

1. ูู ุตูุญุฉ ุงูุณุฌูุ ุงุถุบุท ุนูู **"ุฅุนุงุฏุฉ ุทุจุงุนุฉ"** ูุฃู ุนูููุฉ
2. **ุนุฏูู ุงููุทุงู** ุญุณุจ ุฑุบุจุชู:
   - ูุซูุงู: ูู **5** ุฅูู **15** (ุณูุทุจุน 11 ุดูู ููุท)
   - ุฃู ูู **10** ุฅูู **20** (ุณูุทุจุน 11 ุดูู)
3. ุงุถุบุท **"ุทุจุงุนุฉ"**
4. ุณูููุดุฆ ููู PDF ูุญุชูู ุนูู ุงูุดููุงุช ุงููุญุฏุฏุฉ ููุท

---

## ๐ ุฃูุซูุฉ ุนูู ุฅุนุงุฏุฉ ุงูุทุจุงุนุฉ

### ูุซุงู 1: ุฅุนุงุฏุฉ ุทุจุงุนุฉ ูุทุงู ุฌุฒุฆู

**ุงูุทูุจ ุงูุฃุตูู:**
- ุงูุญุณุงุจ: 100012345678901 (ูุฑุฏู)
- ุงูุชุณูุณู: ูู 1 ุฅูู 25 (25 ุดูู)

**ุฅุนุงุฏุฉ ุงูุทุจุงุนุฉ:**
- ุงูุชุณูุณู: ูู **10** ุฅูู **15** (6 ุดููุงุช ููุท)

**ุงููุชูุฌุฉ:**
- ููู PDF ุจู 7 ุตูุญุงุช (1 ุบูุงู + 6 ุดููุงุช)
- ุงูุดููุงุช ุงููุทุจูุนุฉ: 10, 11, 12, 13, 14, 15

---

### ูุซุงู 2: ุฅุนุงุฏุฉ ุทุจุงุนุฉ ุดูู ูุงุญุฏ

**ุฅุนุงุฏุฉ ุงูุทุจุงุนุฉ:**
- ุงูุชุณูุณู: ูู **7** ุฅูู **7** (ุดูู ูุงุญุฏ ููุท)

**ุงููุชูุฌุฉ:**
- ููู PDF ุจู 2 ุตูุญุฉ (1 ุบูุงู + 1 ุดูู)
- ุงูุดูู ุงููุทุจูุน: 7

---

### ูุซุงู 3: ูุญุงููุฉ ุชุฌุงูุฒ ุงูุญุฏ ุงูุฃูุตู (ุณููุดู)

**ุงูุทูุจ:**
- ุญุณุงุจ ูุฑุฏู (ุญุฏ ุฃูุตู: 25)
- ุงูุชุณูุณู: ูู **1** ุฅูู **30** (30 ุดูู) โ

**ุงููุชูุฌุฉ:**
```
โ ุฎุทุฃ: ูุง ูููู ุทุจุงุนุฉ ุฃูุซุฑ ูู 25 ูุฑูุฉ ูู ุงููุฑุฉ ุงููุงุญุฏุฉ
```

---

## ๐ ููุงุนุฏ ุงูุฃูุงู

### ุงูุชุญูู ูู ุงููุทุงู:
1. โ `serialFrom` ูุฌุจ ุฃู ูููู >= 1
2. โ `serialTo` ูุฌุจ ุฃู ูููู >= `serialFrom`
3. โ ุนุฏุฏ ุงูุดููุงุช ุงููุทููุจุฉ <= ุงูุญุฏ ุงูุฃูุตู (25 ุฃู 50)

### ุงูุตูุงุญูุงุช:
- โ ูุชุทูุจ ุตูุงุญูุฉ `PRINTING`
- โ ูุชุทูุจ ุชุณุฌูู ุฏุฎูู ุตุญูุญ

---

## ๐ ูููุงุช PDF ุงููููุดุฃุฉ

### ุนูุฏ ุฅุนุงุฏุฉ ุงูุทุจุงุนุฉ:
- ูุชู ุฅูุดุงุก ููู PDF **ุฌุฏูุฏ**
- ุงุณู ุงูููู ูุญุชูู ุนูู timestamp ุฌุฏูุฏ
- ูุซุงู:
  ```
  checkbook_100012345678901_1763234567890.pdf  โ ุงูุฃุตูู
  checkbook_100012345678901_1763234999999.pdf  โ ุฅุนุงุฏุฉ ุงูุทุจุงุนุฉ
  ```

### ูุญุชูู PDF:
- **ุตูุญุฉ ุงูุบูุงู**: ุชุญุชูู ุนูู ุงููุทุงู ุงููุทููุจ
- **ุตูุญุงุช ุงูุดููุงุช**: ุนุฏุฏ ุงูุดููุงุช = (serialTo - serialFrom + 1)

---

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุงูุฌุฏูู:
- ุชุตููู ุงุญุชุฑุงูู ูุน Tailwind CSS
- ุฃููุงู ูููุฒุฉ ูููุน ุงูุญุณุงุจ (ุฃุฒุฑู ููุฃูุฑุงุฏุ ุจููุณุฌู ููุดุฑูุงุช)
- Hover effects ุนูู ุงูุตููู
- Responsive design

### ุงููุงูุฐุฉ ุงูููุจุซูุฉ (Modal):
- ุญููู ูุชุนุฏูู ุงููุทุงู
- ุฑุณุงูุฉ ุชุญุฐูุฑูุฉ ุชุนุฑุถ ุนุฏุฏ ุงูุดููุงุช ุงููุทููุจุฉ
- ุงูุชุญูู ูู ุงูุญุฏ ุงูุฃูุตู
- ุฑุณุงุฆู ูุฌุงุญ/ุฎุทุฃ ูุงุถุญุฉ

---

## ๐งช ุงุฎุชุจุงุฑ ุงูููุฒุฉ

### ูู Frontend:

1. **ุงูุชุญ ุงููุชุตูุญ:**
   ```
   http://localhost:5000/history
   ```

2. **ุงุทุจุน ุจุนุถ ุงูุดููุงุช ุฃููุงู:**
   - ุงุฐูุจ ุฅูู `/print`
   - ุงุทุจุน ููุญุณุงุจ `100012345678901`
   - ุงุทุจุน ููุญุณุงุจ `200034567890123`

3. **ุงุฑุฌุน ุฅูู ุตูุญุฉ ุงูุณุฌู:**
   - ุณุชุฌุฏ ุงูุนูููุงุช ูู ุงูุฌุฏูู

4. **ุฌุฑุจ ุฅุนุงุฏุฉ ุงูุทุจุงุนุฉ:**
   - ุงุถุบุท "ุฅุนุงุฏุฉ ุทุจุงุนุฉ"
   - ุนุฏูู ุงููุทุงู (ูุซูุงู: ูู 5 ุฅูู 10)
   - ุงุถุบุท "ุทุจุงุนุฉ"

---

### ูู API ูุจุงุดุฑุฉ:

```http
POST http://localhost:5000/api/printing/print
Authorization: Bearer YOUR_TOKEN
Content-Type: application/json

{
  "account_number": "100012345678901",
  "serial_from": 5,
  "serial_to": 10
}
```

---

## โ ุงูููุงุฆุฏ

### ูููุณุชุฎุฏููู:
- โ ุฅุนุงุฏุฉ ุทุจุงุนุฉ ุงูุดููุงุช ุงูุชุงููุฉ
- โ ุทุจุงุนุฉ ูุทุงู ูุญุฏุฏ ุนูุฏ ุงูุญุงุฌุฉ
- โ ูุฑุงุฌุนุฉ ุงูุนูููุงุช ุงูุณุงุจูุฉ ุจุณูููุฉ
- โ ุชูููุฑ ุงููุฑู ุจุทุจุงุนุฉ ูุง ุชุญุชุงุฌู ููุท

### ูููุธุงู:
- โ ุชุณุฌูู ูุงูู ูุฌููุน ุงูุนูููุงุช
- โ ูุฑููุฉ ูู ุงูุทุจุงุนุฉ
- โ ุฃูุงู ูุชุญูู ูู ุงููุทุงูุงุช
- โ ุฃุฑุดูุฉ ููุธูุฉ

---

## ๐ ุงูููุฒุฉ ุฌุงูุฒุฉ!

ุงูุขู ููููู:
- โ ุนุฑุถ ุฌููุน ุงูุนูููุงุช ุงูุณุงุจูุฉ
- โ ุฅุนุงุฏุฉ ุทุจุงุนุฉ ุฃู ุนูููุฉ
- โ ุงุฎุชูุงุฑ ุงููุทุงู ุงูุฐู ุชุฑูุฏู
- โ ุทุจุงุนุฉ ูู 1 ุดูู ุฅูู 25/50 ุดูู ุญุณุจ ุงูุญุงุฌุฉ

**ุฌุฑุจ ุงูุขู ูู:** `http://localhost:5000/history` ๐

