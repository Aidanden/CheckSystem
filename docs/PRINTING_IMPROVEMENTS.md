# ุฅุตูุงุญ ูุชุญุณูู ูุธุงู ุงูุทุจุงุนุฉ

## ุงูุชุญุฏูุซุงุช ุงููููุฐุฉ โ

### 1. ุฅุตูุงุญ ูุดููุฉ 400 Error

#### ุงููุดููุฉ:
```
POST /api/printing/print 400 17.982 ms - 135
```

#### ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:
1. ุนุฏู ุชุทุงุจู ุงูู types ุจูู Frontend ู Backend
2. ูุดุงูู ูู ุงูุชุญูู ูู ุงูุญุณุงุจ
3. ุนุฏู ูุฌูุฏ ูุฑูุน ูู ุงููุธุงู

#### ุงูุญููู ุงููููุฐุฉ:

##### ุฃ. ุชุญุฏูุซ Types ูู Frontend
**ุงูููู**: `client/src/types/index.ts`

```typescript
export interface PrintCheckbookRequest {
  account_number: string;
  serial_from?: number; // Optional: ููุทุจุงุนุฉ ุงููุฎุตุตุฉ
  serial_to?: number;   // Optional: ููุทุจุงุนุฉ ุงููุฎุตุตุฉ
  source?: 'test' | 'bank'; // Optional: ูุตุฏุฑ ุงูุจูุงูุงุช
  branch_id?: number; // Optional: ูุนุฑู ุงููุฑุน
  branch_core_code?: string; // Optional: ุฑูุฒ ุงููุฑุน ูู FCUBS
}
```

##### ุจ. ุฅุถุงูุฉ Logging ููุตู ูู Backend
**ุงูููู**: `server/src/controllers/printing.controller.ts`

ุชู ุฅุถุงูุฉ ุณุฌูุงุช ุชูุตูููุฉ ูุชุชุจุน:
- ๐จ๏ธ ุงุณุชูุงู ุงูุทูุจ
- โ ุงูุชุญูู ูู ุงููุตุงุฏูุฉ
- ๐ ูุนุงููุงุช ุงูุทูุจ
- ๐ข ูุนูููุงุช ุงููุฑุน
- ๐ค ูุนูููุงุช ุงูุญุณุงุจ
- โ/โ ูุชูุฌุฉ ุงูุนูููุฉ

##### ุฌ. ุชุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ
ุฌููุน ุฑุณุงุฆู ุงูุฎุทุฃ ุงูุขู ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ:
- `ุฑูู ุงูุญุณุงุจ ูุทููุจ (Account number is required)`
- `ูุง ุชูุฌุฏ ูุฑูุน ูุชุงุญุฉ ูู ุงููุธุงู (No branches available in the system)`

### 2. ุงูุชุญุณููุงุช ุงูุฅุถุงููุฉ

#### ุฃ. ุงููุถุน ุงูุงูุชุฑุงุถู
```typescript
const resolvedSource: 'test' | 'bank' = source ?? 'test';
```
- ุงููุถุน ุงูุงูุชุฑุงุถู ุงูุขู `'test'` ุจุฏูุงู ูู `'bank'`
- ูุนูู ุจุฏูู ุงูุญุงุฌุฉ ูุฎุงุฏู FCUBS

#### ุจ. ุฅูุดุงุก ุงูุญุณุงุจุงุช ุงูุชููุงุฆู
- ูู ูุนุฏ ุงููุธุงู ููุดู ุฅุฐุง ูู ููู ุงูุญุณุงุจ ููุฌูุฏุงู
- ูุชู ุฅูุดุงุก ุงูุญุณุงุจ ุชููุงุฆูุงู ุฃุซูุงุก ุงูุทุจุงุนุฉ

#### ุฌ. ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
- ุงููุณุชุฎุฏููู ุบูุฑ ุงูุฅุฏุงุฑููู ูุง ูููููู ุทุจุงุนุฉ ุญุณุงุจุงุช ูุฑูุน ุฃุฎุฑู
- ุงูุชุญูู ูุชู ุจุดูู ุงุฎุชูุงุฑู (ูุง ูููู ุงูุนูููุฉ)

## ููููุฉ ุงุฎุชุจุงุฑ ุงููุธุงู ๐งช

### 1. ุงูุชุญูู ูู ูุฌูุฏ ูุฑุน
```sql
SELECT * FROM "Branch";
```

ุฅุฐุง ูู ููู ููุงู ูุฑูุนุ ุฃุถู ูุฑุน:
```sql
INSERT INTO "Branch" ("branchName", "branchLocation", "routingNumber", "createdAt", "updatedAt")
VALUES ('ุงููุฑุน ุงูุฑุฆูุณู', 'ุทุฑุงุจูุณ', '1100000001', NOW(), NOW());
```

### 2. ุงุฎุชุจุงุฑ ุงูุทุจุงุนุฉ

#### ูู ุงููุชุตูุญ:
1. ุงูุชุญ `http://10.250.100.40:3040/print`
2. ุฃุฏุฎู ุฑูู ุญุณุงุจ: `100012345678901`
3. ุงุถุบุท "ุงุณุชุนูุงู"
4. ุงุถุบุท "ุทุจุงุนุฉ"

#### ูู Console:
```javascript
// ูู Developer Tools Console
await fetch('http://10.250.100.40:5000/api/printing/print', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer YOUR_TOKEN_HERE'
  },
  body: JSON.stringify({
    account_number: '100012345678901'
  })
}).then(r => r.json()).then(console.log);
```

### 3. ูุฑุงูุจุฉ ุงูุณุฌูุงุช

ูู terminal ุงูุฎุงุฏูุ ุณุชุธูุฑ ุงูุณุฌูุงุช ุงูุชุงููุฉ:

```
๐จ๏ธ ===== PRINT REQUEST RECEIVED =====
Request Body: {
  "account_number": "100012345678901"
}
User: { userId: 1, branchId: 1, isAdmin: true }
Parsed Parameters:
  - account_number: 100012345678901
  - serial_from: undefined
  - serial_to: undefined
  - source: test
  - branch_id: undefined
  - branch_core_code: undefined
Initial branchId: 1
โน๏ธ Account 100012345678901 not found in database, will be created during printing
Calling PrintingService.printCheckbook...
...
โ Print successful
```

## ุงูุญุณุงุจุงุช ุงูุชุฌุฑูุจูุฉ ุงููุชุงุญุฉ ๐

### ุญุณุงุจุงุช ุฃูุฑุงุฏ (25 ูุฑูุฉ):
- `100012345678901` - ุฃุญูุฏ ูุญูุฏ ุนูู ุงูุณูุฏ
- `100023456789012` - ูุงุทูุฉ ุญุณู ูุญููุฏ

### ุญุณุงุจุงุช ุดุฑูุงุช (50 ูุฑูุฉ):
- `200034567890123` - ุดุฑูุฉ ุงูุชูููุฉ ุงููุชูุฏูุฉ ุงููุญุฏูุฏุฉ

### ุฃู ุฑูู ุญุณุงุจ ุขุฎุฑ:
- ูุจุฏุฃ ุจู `1` โ ุญุณุงุจ ูุฑุฏู
- ูุจุฏุฃ ุจู `2` โ ุญุณุงุจ ุดุฑูุฉ
- ุณูุชู ุฅูุดุงุคู ุชููุงุฆูุงู ูุน ุงุณู ุงูุชุฑุงุถู

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ๐

### ุฎุทุฃ 400: "ุฑูู ุงูุญุณุงุจ ูุทููุจ"
**ุงูุณุจุจ**: ูู ูุชู ุฅุฑุณุงู `account_number` ูู ุงูุทูุจ
**ุงูุญู**: ุชุฃูุฏ ูู ุฅุฑุณุงู `account_number` ูู body

### ุฎุทุฃ 400: "ูุง ุชูุฌุฏ ูุฑูุน ูุชุงุญุฉ"
**ุงูุณุจุจ**: ูุง ุชูุฌุฏ ูุฑูุน ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
**ุงูุญู**: ุฃุถู ูุฑุน ูุงุญุฏ ุนูู ุงูุฃูู

### ุฎุทุฃ 403: "ุบูุฑ ูุณููุญ ุจุงููุตูู"
**ุงูุณุจุจ**: ุงููุณุชุฎุฏู ูุญุงูู ุทุจุงุนุฉ ุญุณุงุจ ุชุงุจุน ููุฑุน ุขุฎุฑ
**ุงูุญู**: ุงุณุชุฎุฏู ุญุณุงุจ admin ุฃู ุญุณุงุจ ูู ููุณ ุงููุฑุน

### ุฎุทุฃ 400: "ูุง ููุฌุฏ ูุฎุฒูู ูุงูู"
**ุงูุณุจุจ**: ุงููุฎุฒูู ูุงุฑุบ
**ุงูุญู**: ุฃุถู ูุฎุฒูู ูู ุตูุญุฉ `/inventory`

## ุงููููุงุช ุงููุนุฏูุฉ ๐

### Frontend:
1. โ `client/src/types/index.ts` - ุชุญุฏูุซ PrintCheckbookRequest

### Backend:
1. โ `server/src/controllers/printing.controller.ts` - ุฅุถุงูุฉ logging ูุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
2. โ `server/src/types/index.ts` - (ูุงู ุตุญูุญุงู ุจุงููุนู)

## ุงูุฎุทูุงุช ุงูุชุงููุฉ ๐

1. **ุงุฎุชุจุฑ ุงูุทุจุงุนุฉ** ุจุงุณุชุฎุฏุงู ุงูุญุณุงุจุงุช ุงูุชุฌุฑูุจูุฉ
2. **ุฑุงูุจ ุงูุณุฌูุงุช** ูู terminal ุงูุฎุงุฏู ููุนุฑูุฉ ุณุจุจ ุฃู ุฃุฎุทุงุก
3. **ุชุฃูุฏ ูู ูุฌูุฏ ูุฑุน** ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
4. **ุชุฃูุฏ ูู ูุฌูุฏ ูุฎุฒูู** ูุงูู

## ููุงุญุธุงุช ูููุฉ ๐

- โ ุงููุธุงู ูุนูู ุงูุขู ูู ูุถุน `test` ุงูุชุฑุงุถูุงู
- โ ูุง ุญุงุฌุฉ ูุฎุงุฏู FCUBS ููุชุดุบูู
- โ ุงูุญุณุงุจุงุช ุชููุดุฃ ุชููุงุฆูุงู ุนูุฏ ุงูุทุจุงุนุฉ
- โ ุฌููุน ุฑุณุงุฆู ุงูุฎุทุฃ ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- โ ุงูุณุฌูุงุช ุงูุชูุตูููุฉ ุชุณุงุนุฏ ูู ุชุชุจุน ุงููุดุงูู
- โ ุงูุทุจุงุนุฉ ุชุณุชุฎุฏู HTML ูููุณ PDF
